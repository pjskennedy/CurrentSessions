<div class="heading-image">
  <img src="/images/logos/current-sessions-logo2-inversed.png"/>
</div>
<div class="admin-video-options">
  <%= button_to "Log Out", {:controller => :admins, :action => "exit"}, :method => :get, :class => "btn btn-small btn-inverse" %>
  <div class="admin-navigation-background">
    <ul class="nav nav-pills" id="admin-navigation">
      <li class="admin-navigation-item active">
        <a href="/admin">Sessions</a>
      </li>
      <li class="admin-navigation-item">
        <a href="/admin/admins">Admins</a>
      </li>
    </ul>
  </div>
  <p> 
    <%= button_to "\t\t\t\t\tRefresh All Vimeo Data\t\t\t\t\t", {:controller => :videos, :action => "refresh"}, :method => :put, :class => "btn btn-small btn-info"   %>
  </p>
</div>

<div class="alert alert-block alert-success admin-sessions-explanation">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <h3><p>Hey There! Here's how things work around here</p></h3>
  <ul>
    <li>
      <p>Upload any video to vimeo: <a href="https://vimeo.com/" target="_blank">www.vimeo.com</a></p>
    </li>
    <li>
      <p>Your videos will automatically show up here. If your video isn't here, hit the refresh button.</p>
    </li>
    <li>
      <p>Videos must be processed in order to be displayed. To check if a video is done processing, hit the refresh button.</p>
    </li>
    <li>
      <p>Upload Images and add the Location of each shoot</p>
    </li>
    <li>
      <p>If you need to change the title or description, hit edit</p>
    </li>
    <li>
      <p>When you think you're ready. Set the video to be displayed by hitting "Show Video"!</p>
    </li>
  </ul>
  <br/ > 
  <p style="text-align:center;">
    <img src="/images/purple-square.png" width="25" height="25"/> Still Processing
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    <img src="/images/orange-square.png" width="25" height="25"/> Not Launched 
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    <img src="/images/blue-square.png" width="25" height="25"/> Launched
  </p>
  <br/ >
</div>

<% @videos.each do |video| %>
  <div class="sortable">
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3 well">
        
        <div class="col-md-2">
          <h3><i class="icon-align-justify"></i></h3>
        </div>
        <div class="col-md-10">
          <% if not video.processed %>
            <img src="/images/purple-square.png" width="25" height="25"/>
          <% elsif video.displayed %>
            <img src="/images/blue-square.png" width="25" height="25"/>
          <% else %>
            <img src="/images/orange-square.png" width="25" height="25"/>
          <% end %>
          <%= video.title %>
          <div class="pull-right"><small><%= video.location %></small></div>
          <br/>
          <em><%= pluralize(video.video_photos.count, 'Photo') %></em>, 
          <em><%= pluralize(video.video_audio_files.count, 'Audio File') %></em>
          
        </div>
      </div>
    </div>
  </div>
<% end %>

<script>
$('.sortable').draggable({
    helper: function(e) {
        return $('<div>').addClass('block').text( $(e.target).text() );
    },
    connectToSortable: ".sortable"
});
    
$('.sortable').sortable({
    placeholder: 'block-placeholder',
    update: function (event, ui) {
        // turn the dragged item into a "block"
        ui.item.addClass('block');
    }
});
</script>